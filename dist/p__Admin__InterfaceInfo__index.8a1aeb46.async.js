"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{84942:function(ue,V,i){i.r(V),i.d(V,{default:function(){return G}});var Y=i(15009),u=i.n(Y),z=i(97857),g=i.n(z),H=i(99289),p=i.n(H),T=i(5574),E=i.n(T),W=i(80854),Z=i(58917),U=i(22247),f=i(85893),D=function(n){var d=n.visible,h=n.columns,e=n.onCancel,S=n.onSubmit;return(0,f.jsx)(U.Z,{open:d,footer:null,onCancel:function(){return e==null?void 0:e()},children:(0,f.jsx)(Z.Z,{type:"form",columns:h,onSubmit:function(){var j=p()(u()().mark(function O(P){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:S==null||S(P);case 1:case"end":return _.stop()}},O)}));return function(O){return j.apply(this,arguments)}}()})})},X=D,I=i(67294),N=function(n){var d=n.values,h=n.visible,e=n.columns,S=n.onCancel,j=n.onSubmit,O=(0,I.useRef)();return(0,I.useEffect)(function(){if(O){var P;(P=O.current)===null||P===void 0||P.setFieldsValue(d)}},[d]),(0,f.jsx)(U.Z,{open:h,footer:null,onCancel:function(){return S==null?void 0:S()},children:(0,f.jsx)(Z.Z,{type:"form",columns:e,formRef:O,onSubmit:function(){var P=p()(u()().mark(function F(_){return u()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:j==null||j(_);case 1:case"end":return L.stop()}},F)}));return function(F){return P.apply(this,arguments)}}()})})},$=N,C=i(73936),B=i(51042),ee=i(6110),A=i(2236),J=i(92276),v=i(2453),b=i(71577),k=i(85265),Q=function(){var n=(0,I.useState)(!1),d=E()(n,2),h=d[0],e=d[1],S=(0,I.useState)(!1),j=E()(S,2),O=j[0],P=j[1],F=(0,I.useState)(!1),_=E()(F,2),q=_[0],L=_[1],R=(0,I.useRef)(),se=(0,I.useState)(),re=E()(se,2),y=re[0],K=re[1],ie=(0,I.useState)([]),ne=E()(ie,2),M=ne[0],ae=ne[1],le=function(){var c=p()(u()().mark(function s(t){var o;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=v.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,C.Y4)(g()({},t));case 4:return o(),v.ZP.success("\u521B\u5EFA\u6210\u529F"),e(!1),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),o(),v.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 15:case"end":return r.stop()}},s,null,[[1,10]])}));return function(t){return c.apply(this,arguments)}}(),oe=function(){var c=p()(u()().mark(function s(t){var o;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(y){r.next=2;break}return r.abrupt("return");case 2:return o=v.ZP.loading("\u4FEE\u6539\u4E2D"),r.prev=3,r.next=6,(0,C.T7)(g()({id:y.id},t));case 6:return o(),v.ZP.success("\u4FEE\u6539\u6210\u529F"),r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(3),o(),v.ZP.error("\u4FEE\u6539\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 16:case"end":return r.stop()}},s,null,[[3,11]])}));return function(t){return c.apply(this,arguments)}}(),te=function(){var c=p()(u()().mark(function s(t){var o,m;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=v.ZP.loading("\u6B63\u5728\u5220\u9664"),t){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,C.XG)({id:t.id});case 6:return o(),v.ZP.success("\u5220\u9664\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),a.abrupt("return",!0);case 12:return a.prev=12,a.t0=a.catch(3),o(),v.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C"+a.t0.message),a.abrupt("return",!1);case 17:case"end":return a.stop()}},s,null,[[3,12]])}));return function(t){return c.apply(this,arguments)}}(),de=function(){var c=p()(u()().mark(function s(t){var o,m;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=v.ZP.loading("\u53D1\u5E03\u4E2D"),t){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,C.GC)({id:t.id});case 6:return o(),v.ZP.success("\u53D1\u5E03\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),a.abrupt("return",!0);case 12:return a.prev=12,a.t0=a.catch(3),o(),v.ZP.error("\u53D1\u5E03\u5931\u8D25\uFF0C"+a.t0.message),a.abrupt("return",!1);case 17:case"end":return a.stop()}},s,null,[[3,12]])}));return function(t){return c.apply(this,arguments)}}(),ce=function(){var c=p()(u()().mark(function s(t){var o,m;return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=v.ZP.loading("\u4E0B\u7EBF\u4E2D"),t){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,C.zr)({id:t.id});case 6:return o(),v.ZP.success("\u4E0B\u7EBF\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),a.abrupt("return",!0);case 12:return a.prev=12,a.t0=a.catch(3),o(),v.ZP.error("\u4E0B\u7EBF\u5931\u8D25\uFF0C"+a.t0.message),a.abrupt("return",!1);case 17:case"end":return a.stop()}},s,null,[[3,12]])}));return function(t){return c.apply(this,arguments)}}(),x=[{title:"id",dataIndex:"id",valueType:"index"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",valueType:"jsonCode",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"url",dataIndex:"url",valueType:"text",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode",formItemProps:{rules:[{required:!0,message:"\u8BE5\u53C2\u6570\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5728\u7EBF",status:"Processing"}}},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"createTime",valueType:"dateTime",hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",sorter:!0,dataIndex:"updateTime",valueType:"dateTime",hideInForm:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(s,t){return[(0,f.jsx)("a",{onClick:function(){P(!0),K(t)},children:"\u4FEE\u6539"},"config"),t.status===0?(0,f.jsx)(b.ZP,{type:"text",onClick:function(){de(t)},children:"\u53D1\u5E03"},"online"):null,t.status===1?(0,f.jsx)(b.ZP,{type:"text",danger:!0,onClick:function(){ce(t)},children:"\u4E0B\u7EBF"},"offline"):null,(0,f.jsx)(b.ZP,{type:"text",danger:!0,onClick:function(){te(t)},children:"\u5220\u9664"},"config")]}}];return(0,f.jsxs)(ee._z,{children:[(0,f.jsx)(Z.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:R,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,f.jsxs)(b.ZP,{type:"primary",onClick:function(){e(!0)},children:[(0,f.jsx)(B.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var c=p()(u()().mark(function s(t,o,m){var r;return u()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,C.YV)(g()({},t));case 2:if(r=w.sent,!(r!=null&&r.data)){w.next=7;break}return w.abrupt("return",{data:(r==null?void 0:r.data.records)||[],success:!0,total:(r==null?void 0:r.data.total)||0});case 7:return w.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return w.stop()}},s)}));return function(s,t,o){return c.apply(this,arguments)}}(),columns:x,rowSelection:{onChange:function(s,t){ae(t)}}}),(M==null?void 0:M.length)>0&&(0,f.jsxs)(A.S,{extra:(0,f.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,f.jsx)("a",{style:{fontWeight:600},children:M.length})," ","\u9879 \xA0\xA0",(0,f.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",M.reduce(function(c,s){return c+s.callNo},0)," \u4E07"]})]}),children:[(0,f.jsx)(b.ZP,{onClick:p()(u()().mark(function c(){var s,t;return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,te(M);case 2:ae([]),(s=R.current)===null||s===void 0||(t=s.reloadAndRest)===null||t===void 0||t.call(s);case 4:case"end":return m.stop()}},c)})),children:"\u6279\u91CF\u5220\u9664"}),(0,f.jsx)(b.ZP,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,f.jsx)($,{columns:x,onSubmit:function(){var c=p()(u()().mark(function s(t){var o;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,oe(t);case 2:o=r.sent,o&&(P(!1),K(void 0),R.current&&R.current.reload());case 4:case"end":return r.stop()}},s)}));return function(s){return c.apply(this,arguments)}}(),onCancel:function(){P(!1),q||K(void 0)},visible:O,values:y||{}}),(0,f.jsx)(k.Z,{width:600,open:q,onClose:function(){K(void 0),L(!1)},closable:!1,children:(y==null?void 0:y.name)&&(0,f.jsx)(J.vY,{column:2,title:y==null?void 0:y.name,request:p()(u()().mark(function c(){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{data:y||{}});case 1:case"end":return t.stop()}},c)})),params:{id:y==null?void 0:y.name},columns:x})}),(0,f.jsx)(X,{columns:x,onCancel:function(){e(!1)},onSubmit:function(s){le(s)},visible:h})]})},G=Q},73936:function(ue,V,i){i.d(V,{GC:function(){return b},Lu:function(){return N},T7:function(){return Q},XG:function(){return Z},Y4:function(){return E},YV:function(){return C},x4:function(){return X},zr:function(){return J}});var Y=i(15009),u=i.n(Y),z=i(97857),g=i.n(z),H=i(99289),p=i.n(H),T=i(80854);function E(l,n){return W.apply(this,arguments)}function W(){return W=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/add",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),W.apply(this,arguments)}function Z(l,n){return U.apply(this,arguments)}function U(){return U=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/delete",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),U.apply(this,arguments)}function f(l,n){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function l(n,d){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/interfaceInfo/edit",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),D.apply(this,arguments)}function X(l,n){return I.apply(this,arguments)}function I(){return I=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/get/vo",g()({method:"GET",params:g()({},n)},d||{})));case 1:case"end":return e.stop()}},l)})),I.apply(this,arguments)}function N(l,n){return $.apply(this,arguments)}function $(){return $=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/invoke",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),$.apply(this,arguments)}function C(l,n){return B.apply(this,arguments)}function B(){return B=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/list/page/vo",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),B.apply(this,arguments)}function ee(l,n){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function l(n,d){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/interfaceInfo/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),A.apply(this,arguments)}function J(l,n){return v.apply(this,arguments)}function v(){return v=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/offline",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),v.apply(this,arguments)}function b(l,n){return k.apply(this,arguments)}function k(){return k=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/online",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),k.apply(this,arguments)}function Q(l,n){return G.apply(this,arguments)}function G(){return G=p()(u()().mark(function l(n,d){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/update",g()({method:"POST",headers:{"Content-Type":"application/json"},data:n},d||{})));case 1:case"end":return e.stop()}},l)})),G.apply(this,arguments)}}}]);
